<!DOCTYPE html>
<html>

<head>
    <title>Issue #18</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <script charset="UTF-8" src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <script charset="UTF-8" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script charset="UTF-8" src="https://code.highcharts.com/highcharts.js"></script>
    <script charset="UTF-8" src="https://code.highcharts.com/modules/exporting.js"></script>
    <script charset="UTF-8" src="https://code.highcharts.com/modules/offline-exporting.js"></script>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/jquery-minicolors/2.3.4/jquery.minicolors.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-minicolors/2.3.4/jquery.minicolors.min.js"></script>

    <script>
        var w7cConfig = {
            columncount: 1,
            rowcount: 1,
            charts: [{
                column: 0,
                row: 0,
                additonalInfo: {option1: "abc"},
                mainlayer: {
                    borderSize: 1,
                    borderColor: "rgba(0,27,26,1)",
                    leftMargin: 30,
                    rightMargin: 0,
                    topMargin: 100,
                    bottomMargin: 100,
                    xOffset: 0,
                    yOffset: 0
                },
                legend: {
                    visible: true,
                    floating: true,
                    layout: "horizontal",
                    hAlign: "center",
                    vAlign: "bottom",
                    margin: 12,
                    padding: 8,
                    xpos: 0,
                    ypos: 0,
                },
                plotconfiguration: true,
                xaxis: [{
                    position: 'bottom',
                    scale: 'auto',
                    yaxis: [{
                        position: 'left',
                        label: "Part",
                        scale: 'auto',
                        plots: [{
                            label: "Part 1",
                            hidden: false,
                            visible: true,
                            flyover: true,
                            lineColor: "rgba(250, 37, 26,0.5)",
                            lineStyle: "solid",
                            lineSize: 1,
                            symbolColor: "rgba(250,37,26,0.5)",
                            symbolFillColor: "rgba(250,37,26,0.5)",
                            symbolStyle: "triangle",
                            symbolSize: 3
                        },
                            {
                                label: "Part 2",
                                hidden: false,
                                visible: true,
                                flyover: true,
                                lineColor: "rgba(95, 232, 56,0.5)",
                                lineStyle: "solid",
                                lineSize: 1,
                                symbolColor: "rgba(95, 232, 56,0.5)",
                                symbolFillColor: "rgba(95, 232, 56,0.5)",
                                symbolStyle: "triangle",
                                symbolSize: 3
                            }, {
                                label: "Part 3",
                                hidden: false,
                                visible: true,
                                flyover: true,
                                lineColor: "rgba(0,175,240,0.5)",
                                lineStyle: "solid",
                                lineSize: 1,
                                symbolColor: "rgba(0,175,240,0.5)",
                                symbolFillColor: "rgba(0,175,240,0.5)",
                                symbolStyle: "triangle",
                                symbolSize: 3
                            }, {
                                label: "Part 4",
                                hidden: false,
                                visible: true,
                                flyover: true,
                                lineColor: "rgba(252,209,22,0.5)",
                                lineStyle: "solid",
                                lineSize: 1,
                                symbolColor: "rgba(252,209,22,0.5)",
                                symbolFillColor: "rgba(252,209,22,0.5)",
                                symbolStyle: "triangle",
                                symbolSize: 3
                            }, {
                                label: "Part 5",
                                hidden: true,
                                visible: true,
                                flyover: false,
                                lineColor: null,
                                lineStyle: null,
                                lineSize: 0,
                                symbolColor: null,
                                symbolFillColor: null,
                                symbolStyle: null,
                                symbolSize: 0
                            }]
                    }]
                }]
            }]
        };

        var w7cData = {
            charts: [{
                column: 1,
                row: 1,
                title: 'Hight Chart Title',
                subtitle: 'Subtitle',
                xaxis: [{
                    label: 'n',
                    unit: '1/s',
                    yaxis: [{
                        label: 'Part',
                        unit: 'm/s',
                        plots: [{
                            label: "Part 1",
                            data: [
                                [0, 0.0121],
                                [1.8261, 0.46825978]
                            ]
                        }, {
                            label: "Part 2",
                            data: [
                                [1.8261, 0.46825972],
                                [6.6346, 1.64730392]
                            ]
                        }, {
                            label: "Part 3",
                            data: [
                                [6.6346, 1.647304],
                                [13.1667, 3.215008]
                            ]
                        }, {
                            label: "Part 4",
                            data: [
                                [13.1667, 3.21500768],
                                [26.3334, 6.24861536]
                            ]
                        }, {
                            label: "Part 5",
                            data: []
                        }]

                    }]
                }]
            }]
        };

        var chart;
        var storeLineSymbolConfig = []; //declaration 
        var highchart_test = function () {
            var self = this;

            self.Init = function () {
                self.DisplayHighChart();
            };

            self.DisplayHighChart = function () {
                var values = [...w7cData.charts[0].xaxis[0].yaxis[0].plots];
                console.log("Hide plots with flag \"hidden\" set to true");
                console.log(w7cConfig.charts[0].xaxis[0].yaxis[0].plots);
                for (i = 0; i < values.length; i++) {
                    values[i].name = values[i].label;
                    values[i].visible = w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].visible;
                    // lines
                    values[i].lineWidth = w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].lineSize;
                    values[i].dashStyle = w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].lineStyle;
                    values[i].color = w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].lineColor;
                    values[i].tooltip = w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].flyover;
                    // marker                   
                    values[i].marker = {
                        symbol: w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].symbolStyle,
                        radius: w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].symbolSize,
                        lineColor: w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].symbolColor,
                        fillColor: w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].symbolFillColor,
                        lineWidth: 1
                    };
                    if (w7cConfig.charts[0].xaxis[0].yaxis[0].plots[i].hidden === true) {
                        values[i].showInLegend = false
                    }
                }

                chart = Highcharts.chart('container', {
                    chart: {
                        zoomType: 'xy',
                        borderWidth: w7cConfig.charts[0].mainlayer.borderSize,
                        borderColor: w7cConfig.charts[0].mainlayer.borderColor,
                        marginTop: w7cConfig.charts[0].mainlayer.topMargin,
                        marginRight: w7cConfig.charts[0].mainlayer.rightMargin,
                        marginBottom: w7cConfig.charts[0].mainlayer.bottomMargin,
                        marginLeft: w7cConfig.charts[0].mainlayer.leftMargin
                    },
                    title: {
                        useHTML: true,
                        text: w7cData.charts[0].title
                    },
                    subtitle: {
                        text: w7cData.charts[0].subtitle
                    },
                    xAxis: {
                        title: {
                            enabled: true,
                            text: w7cData.charts[0].xaxis[0].label + ' ' + w7cData.charts[0].xaxis[0].unit
                        },
                        startOnTick: true,
                        endOnTick: true,
                        showLastLabel: true,
                        offset: w7cConfig.charts[0].mainlayer.xOffset
                    },
                    yAxis: {
                        title: {
                            useHTML: true,
                            text: w7cData.charts[0].xaxis[0].yaxis[0].label + ' ' + w7cData.charts[0].xaxis[0].yaxis[0].unit
                        },
                        offset: w7cConfig.charts[0].mainlayer.yOffset
                    },
                    plotOptions: {
                        series: {
                            events: {
                                legendItemClick: function () {
                                    $('#SelectPlot').empty();
                                    let result = w7cConfig.charts[0].xaxis[0].yaxis.map(plot => plot.plots.map(cat => {
                                        if (cat.hidden !== true) {
                                            $('#SelectPlot').append(
                                                $('<option></option>').val(cat.label).html(cat.label)
                                            )
                                        }
                                    }));
                                    storeLineSymbolConfig = [];
                                    self.LoadDefaultChart(this.name);
                                    $("#modal_config_line_marker").modal("show");
                                    return false;
                                }
                            }
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            if (!this.series.options.tooltip) {
                                return false;
                            } else {
                                return '<b>' + this.series.name + '</b><br/>' +
                                    this.x + w7cData.charts[0].xaxis[0].unit + ':' + this.y + w7cData.charts[0].xaxis[0].yaxis[0].unit;
                            }
                        }
                    },
                    legend: {
                        enabled: w7cConfig.charts[0].legend.visible,
                        floating: w7cConfig.charts[0].legend.floating,
                        layout: w7cConfig.charts[0].legend.layout,
                        align: w7cConfig.charts[0].legend.hAlign,
                        verticalAlign: w7cConfig.charts[0].legend.vAlign,
                        x: w7cConfig.charts[0].legend.xpos,
                        y: w7cConfig.charts[0].legend.ypos,
                        padding: w7cConfig.charts[0].legend.padding,
                        margin: w7cConfig.charts[0].legend.margin,
                        backgroundColor: w7cConfig.charts[0].legend.backgroundcolor,
                        borderWidth: w7cConfig.charts[0].legend.bordersize
                    },
                    series: values
                });
            }

            self.ConfigLineSymbol = function () {
                $('#SelectPlot').empty()
                let result = w7cConfig.charts[0].xaxis[0].yaxis.map(plot => plot.plots.map(cat => {
                    if (cat.hidden !== true) {
                        $('#SelectPlot').append(
                            $('<option></option>').val(cat.label).html(cat.label)
                        );
                    }
                }));
                storeLineSymbolConfig = [];
                self.LoadDefaultChart('Part 1');
                $("#modal_config_line_marker").modal("show");
            };

            self.ConfigSizeLayer = function () {
                $("#modal_config_chartmargin").modal("show");
            };

            self.ConfigLegend = function () {
                $("#modal_config_legend").modal("show");
            };

            if (w7cConfig.charts[0].plotconfiguration) {
                var menuContext = Highcharts.getOptions().exporting.buttons.contextButton.menuItems;
                var menuContexSeparator = {
                    separator: true
                }
                menuContext.splice(2, 0, menuContexSeparator);

                var menuConfigChart = {
                    text: "Configuration size and extension of drawing layer",
                    onclick: self.ConfigSizeLayer
                };
                menuContext.splice(3, 0, menuConfigChart);


                var menuConfigLineAndSymbol = {
                    text: "Configuration Line and Symbol style",
                    onclick: self.ConfigLineSymbol
                };
                menuContext.splice(4, 0, menuConfigLineAndSymbol);

                var menuConfigLegend = {
                    text: "Configuration legend",
                    onclick: self.ConfigLegend
                };
                menuContext.splice(5, 0, menuConfigLegend);
            }

            self.LoadDefaultChart = function (plot) {
                $('.color-picker-1').each(function () {
                    $(this).minicolors({
                        control: $(this).attr('data-control') || 'hue',
                        defaultValue: $(this).attr('data-defaultValue') || '',
                        format: $(this).attr('data-format') || 'hex',
                        opacity: $(this).attr('data-opacity'),
                        change: function (value, opacity) {
                            if (opacity) value += ', ' + opacity;
                        },
                        theme: 'bootstrap'
                    });
                });

                Highcharts.each(chart.series, function (ob, j) {
                    if (ob.name == plot) {
                        var isLineSymbolConfig = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === plot);
                        if (isLineSymbolConfig.length === 0) {
                            storeLineSymbolConfig.push({
                                name: ob.name,
                                visible: ob.options.visible,
                                options: {
                                    lineWidth: ob.options.lineWidth,
                                    dashStyle: ob.options.dashStyle,
                                    color: ob.options.color,
                                    marker: {
                                        radius: ob.options.marker.radius,
                                        symbol: ob.options.marker.symbol,
                                        lineColor: ob.options.marker.lineColor,
                                        fillColor: ob.options.marker.fillColor
                                    }
                                }
                            })
                        }

                        //plot
                        $('#SelectPlot').val(ob.name);
                        $('#chkplotvisible').prop('checked', ob.options.visible);

                        //line
                        $('#txtlineSize').val(ob.options.lineWidth);
                        $("#SelectLineStyle").val(ob.options.dashStyle);
                        $('#txtLineColor').minicolors('value', ob.options.color);

                        //marker
                        $('#txtMarkerRadius').val(ob.options.marker.radius);
                        $('#SelectSymbolStyle').val(ob.options.marker.symbol);
                        $('#txtMarkerlinecolor').minicolors('value', ob.options.marker.lineColor);
                        $('#txtMarkerfillColor').minicolors('value', ob.options.marker.fillColor);
                    }
                });
            }

            $('#SelectPlot').on('change', function () {
                const result = w7cConfig.charts[0].xaxis[0].yaxis
                    .reduce((arr, item) => arr.concat(item.plots), [])
                    .find(sub => sub.label === $('#SelectPlot').val())

                Highcharts.each(chart.series, function (ob, j) {
                    if (ob.name == result.label) {
                        var isLineSymbolConfig = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === result.label);
                        if (isLineSymbolConfig.length === 0) {
                            //plot
                            $('#chkplotvisible').prop('checked', ob.options.visible);

                            //line
                            $('#txtlineSize').val(ob.options.lineWidth);
                            $("#SelectLineStyle").val(ob.options.dashStyle);
                            $('#txtLineColor').minicolors('value', ob.options.color);

                            //marker
                            $('#txtMarkerRadius').val(ob.options.marker.radius);
                            $('#SelectSymbolStyle').val(ob.options.marker.symbol);
                            $('#txtMarkerlinecolor').minicolors('value', ob.options.marker.lineColor);
                            $('#txtMarkerfillColor').minicolors('value', ob.options.marker.fillColor);

                            storeLineSymbolConfig.push({
                                name: ob.name,
                                visible: ob.options.visible,
                                options: {
                                    lineWidth: ob.options.lineWidth,
                                    dashStyle: ob.options.dashStyle,
                                    color: ob.options.color,
                                    marker: {
                                        radius: ob.options.marker.radius,
                                        symbol: ob.options.marker.symbol,
                                        lineColor: ob.options.marker.lineColor,
                                        fillColor: ob.options.marker.fillColor
                                    }
                                }
                            })
                        } else {
                            $('#chkplotvisible').prop('checked', isLineSymbolConfig[0].visible);

                            //line
                            $('#txtlineSize').val(isLineSymbolConfig[0].options.lineWidth);
                            $("#SelectLineStyle").val(isLineSymbolConfig[0].options.dashStyle);
                            $('#txtLineColor').minicolors('value', isLineSymbolConfig[0].options.color);

                            //marker
                            $('#txtMarkerRadius').val(isLineSymbolConfig[0].options.marker.radius);
                            $('#SelectSymbolStyle').val(isLineSymbolConfig[0].options.marker.symbol);
                            $('#txtMarkerlinecolor').minicolors('value', isLineSymbolConfig[0].options.marker.lineColor);
                            $('#txtMarkerfillColor').minicolors('value', isLineSymbolConfig[0].options.marker.fillColor);
                        }
                    }
                });
            });

            // plot visible change
            $('#chkplotvisible').change(function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].visible = $('#chkplotvisible').is(':checked');
                }
            });

            // line size change
            $('#txtlineSize').on('input propertychange paste', function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.lineWidth = $('#txtlineSize').val();
                }
            });

            // line style change
            $("#SelectLineStyle").change(function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.dashStyle = $('#SelectLineStyle').val();
                }
            });

            // line color change
            $('#txtLineColor').on('input propertychange paste', function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.color = $('#txtLineColor').val();
                }
            });

            // marker size change
            $('#txtMarkerRadius').on('input propertychange paste', function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.marker.radius = $('#txtMarkerRadius').val();
                }
            });
            // marker style change
            $("#SelectSymbolStyle").change(function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.marker.symbol = $('#SelectSymbolStyle').val();
                }
            });
            // marker color change
            $('#txtMarkerlinecolor').on('input propertychange paste', function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.marker.lineColor = $('#txtMarkerlinecolor').val();
                }
            });
            // marker fill color change
            $('#txtMarkerfillColor').on('input propertychange paste', function () {
                var x = storeLineSymbolConfig && storeLineSymbolConfig.filter(d => d.name === $('#SelectPlot').val());
                if (x.length > 0) {
                    x[0].options.marker.fillColor = $('#txtMarkerfillColor').val();
                }
            });


            $('#btnApplyPlot').click(function () {
                if (storeLineSymbolConfig.length > 0) {
                    $.each(chart.series, function (j, series) {
                        $.each(storeLineSymbolConfig, function (jj, value) {
                            if (series.name === value.name) {
                                series.update({marker: {enabled: false}});
                            }
                        })
                    });

                    $.each(chart.series, function (j, series) {
                        $.each(storeLineSymbolConfig, function (jj, value) {
                            debugger;
                            if (series.name === value.name) {
                                // plot visible
                                series.setVisible(value.visible, value.visible);

                                // line and marker
                                series.update({
                                    lineWidth: value.options.lineWidth === 0 ? 0 : value.options.lineWidth,
                                    dashStyle: value.options.dashStyle,
                                    color: value.options.color,
                                    marker: {
                                        enabled: true,
                                        symbol: value.options.marker.symbol,
                                        radius: value.options.marker.radius === 0 ? 0 : value.options.marker.radius,
                                        lineColor: value.options.marker.lineColor,
                                        fillColor: value.options.marker.fillColor,
                                        lineWidth: 1
                                    }
                                });
                            }
                        })
                    });
                }
                // $("#modal_config_line_marker").modal("hide");
            });

            $('#btnChangePlot').click(function () {
                if (storeLineSymbolConfig.length > 0) {
                    $.each(chart.series, function (j, series) {
                        $.each(storeLineSymbolConfig, function (jj, value) {
                            if (series.name === value.name) {
                                series.update({marker: {enabled: false}});
                            }
                        })
                    });

                    $.each(chart.series, function (j, series) {
                        $.each(storeLineSymbolConfig, function (jj, value) {
                            debugger
                            if (series.name === value.name) {
                                // plot visible
                                series.setVisible(value.visible, value.visible);

                                // line and marker
                                series.update({
                                    lineWidth: value.options.lineWidth === 0 ? 0 : value.options.lineWidth,
                                    dashStyle: value.options.dashStyle,
                                    color: value.options.color,
                                    marker: {
                                        enabled: true,
                                        symbol: value.options.marker.symbol,
                                        radius: value.options.marker.radius === 0 ? 0 : value.options.marker.radius,
                                        lineColor: value.options.marker.lineColor,
                                        fillColor: value.options.marker.fillColor,
                                        lineWidth: 1
                                    }
                                });
                            }
                        })
                    });
                }
                $("#modal_config_line_marker").modal("hide");
            });

            $('#btnchangelegend').click(function () {
                chart.legend.update({
                    enabled: $('#chkHideShowLegend').is(':checked'),
                    floating: $('#chkLegendFloating').is(':checked'),
                    layout: $('#SelectLegendLayout').val(),
                    align: $('#SelectLegendAlign').val(),
                    verticalAlign: $('#SelectLegendVerticalAlign').val(),
                    x: parseInt($('#txtlegendx').val()),
                    y: parseInt($('#txtlegendy').val()),
                    padding: parseInt($('#txtpadding').val()),
                    margin: parseInt($('#txtmargin').val()),
                    borderWidth: parseInt($('#txtlegendbordersize').val())
                });
                $("#modal_config_legend").modal("hide");
            });

            $('#btnchangechartmargin').click(function () {
                chart.setTitle({text: $('#chart_title').val()});
                chart.update({
                    chart: {
                        borderWidth: parseInt($('#txtborder').val()),
                        borderColor: $('#txtlayerbordercolor').val(),
                        marginTop: parseInt($('#txtmargin_top').val()),
                        marginRight: parseInt($('#txtmargin_right').val()),
                        marginBottom: parseInt($('#txtmargin_bottom').val()),
                        marginLeft: parseInt($('#txtmargin_left').val())
                    },
                    xAxis: {
                        offset: parseInt($('#txtxAxisOffset').val())
                    },
                    yAxis: {
                        offset: parseInt($('#txtyAxistOffset').val())
                    }
                })
                $("#modal_config_chartmargin").modal("hide");
            });
        }
    </script>

    <script>
        $(document).ready(function () {
            var highchart = new highchart_test();
            highchart.Init();
        });
    </script>
    <style>
        #container {
            height: 95vh;
        }

        fieldset.box-border {
            border: 1px groove rgba(0, 0, 0, .2) !important;
            padding: 0 1.4em 1.4em 1.4em !important;
            margin: 0 0 1.5em 0 !important;
            -webkit-box-shadow: 0px 0px 0px 0px #000;
            box-shadow: 0px 0px 0px 0px #000;
        }

        legend.box-border {
            font-size: 1.2em !important;
            font-weight: bold !important;
            text-align: left !important;
            width: auto;
            padding: 0 10px;
            border-bottom: none;
        }
    </style>
</head>

<body>
<div class="container-fluid mt-3">
    <div id="container" style="min-width: 310px;  margin: 0 auto"></div>
</div>
<!-- The Modal Line and Marker-->
<div class="modal" id="modal_config_line_marker">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Configuration Line and Symbol style</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="chart_title" class="col-sm-5">Plot</label>
                        <div class="col-sm-7">
                            <select class="form-control" name="SelectPlot" id="SelectPlot">
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="chkplotvisible" class="col-sm-5">Plot visible</label>
                        <div class="col-sm-7">
                            <input type="checkbox" id="chkplotvisible" name="chkplotvisible" checked>
                        </div>
                    </div>

                    <fieldset class="box-border">
                        <legend class="box-border">Lines</legend>
                        <div class="form-group row">
                            <label for="txtlineSize" class="col-sm-5">Size (px)</label>
                            <div class="col-sm-7">
                                <input type="number" class="form-control" id="txtlineSize" name="txtlineSize"
                                       value="2">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="txtLineColor" class="col-sm-5">Colour</label>
                            <div class="col-sm-7">
                                <input type="text" id="txtLineColor" class="form-control color-picker-1"
                                       data-format="rgb" data-opacity="1" value="rgba(250, 37, 26, 0.5)">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="SelectLineStyle" class="col-sm-5">Style</label>
                            <div class="col-sm-7">
                                <select class="form-control" name="SelectLineStyle" id="SelectLineStyle">
                                    <option value="0">No line</option>
                                    <option value="solid">Solid</option>
                                    <option value="dot">Dot</option>
                                    <option value="dash">Dash</option>
                                    <option value="longdash">LongDash</option>
                                    <option value="dashdot">DashDot</option>
                                    <option value="longdashdot">LongDashDot</option>
                                    <option value="longdashdotdot">LongDashDotDot</option>
                                </select>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset class="box-border">
                        <legend class="box-border">Symbol</legend>
                        <div class="form-group row">
                            <label for="txtMarkerRadius" class="col-sm-5">Size (px)</label>
                            <div class="col-sm-7">
                                <input type="number" class="form-control" id="txtMarkerRadius"
                                       name="txtMarkerRadius" value="2">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="SelectSymbolStyle" class="col-sm-5">Style</label>
                            <div class="col-sm-7">
                                <select class="form-control" name="SelectSymbolStyle" id="SelectSymbolStyle">
                                    <option value="0">No symbol</option>
                                    <option value="cross">cross</option>
                                    <option value="circle">circle</option>
                                    <option value="square">square</option>
                                    <option value="diamond">diamond</option>
                                    <option value="triangle">triangle</option>
                                    <option value="triangle-down">triangle-down</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="txtMarkerlinecolor" class="col-sm-5">Colour outline</label>
                            <div class="col-sm-7">
                                <input type="text" id="txtMarkerlinecolor" class="form-control color-picker-1"
                                       data-format="rgb" data-opacity="1" value="rgba(0, 0, 0, 1)">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="txtMarkerfillColor" class="col-sm-5">Fill color </label>
                            <div class="col-sm-7">
                                <input type="text" id="txtMarkerfillColor" class="form-control color-picker-1"
                                       data-format="rgb" data-opacity="1" value="rgba(0, 0, 0, 1)">
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="modal-footer">
                    <button id="btnApplyPlot" type="button" class="btn btn-primary">Apply</button>
                    <button id="btnChangePlot" type="button" class="btn btn-primary">OK</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- The Modal legend-->
<div class="modal" id="modal_config_legend">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Configuration Legend</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="chkHideShowLegend" class="col-sm-5">Legend visible</label>
                        <div class="col-sm-7">
                            <input type="checkbox" id="chkHideShowLegend" name="chkHideShowLegend" checked>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="chkLegendFloating" class="col-sm-5">Floating</label>
                        <div class="col-sm-7">
                            <input type="checkbox" id="chkLegendFloating" name="chkLegendFloating" checked>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SelectLegendLayout" class="col-sm-5">Layout</label>
                        <div class="col-sm-7">
                            <select class="form-control" name="SelectLegendLayout" id="SelectLegendLayout">
                                <option value="vertical">vertical</option>
                                <option value="horizontal">horizontal</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SelectLegendAlign" class="col-sm-5">Align</label>
                        <div class="col-sm-7">
                            <select class="form-control" name="SelectLegendAlign" id="SelectLegendAlign">
                                <option value="left">left</option>
                                <option value="right">right</option>
                                <option value="center" selected>center</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SelectLegendVerticalAlign" class="col-sm-5">Vertical Align</label>
                        <div class="col-sm-7">
                            <select class="form-control" name="SelectLegendVerticalAlign"
                                    id="SelectLegendVerticalAlign">
                                <option value="top">top</option>
                                <option value="middle">middle</option>
                                <option value="bottom" selected>bottom</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtlegendx" class="col-sm-5">X</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtlegendx" name="txtlegendx" value="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtlegendy" class="col-sm-5">Y</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtlegendy" name="txtlegendy" value="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtpadding" class="col-sm-5">Padding</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtpadding" name="txtpadding" value="8">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtmargin" class="col-sm-5">Margin</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtmargin" name="txtmargin" value="12">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtlegendbordersize" class="col-sm-5">Border width</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtlegendbordersize"
                                   name="txtlegendbordersize" value="1">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="btnchangelegend" type="button" class="btn btn-primary">OK</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- The Modal layout margin-->
<div class="modal" id="modal_config_chartmargin">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Configuration the size and extension of drawing layer</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="chart_title" class="col-sm-5">Chart title</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" id="chart_title" name="chart_title"
                                   value='Chart Title'>
                        </div>
                    </div>
                    <hr>
                    <div class="form-group row">
                        <label for="txtborder" class="col-sm-5">Border width</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtborder" value="1">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtlayerbordercolor" class="col-sm-5">Border color</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" id="txtlayerbordercolor" value="#000000">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtmargin_top" class="col-sm-5">Margin top</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtmargin_top" value="100">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtmargin_right" class="col-sm-5">Margin right</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtmargin_right" value="100">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtmargin_bottom" class="col-sm-5">Margin bottom</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtmargin_bottom" value="100">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtmargin_left" class="col-sm-5">Margin Left</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtmargin_left" value="100">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtxAxisOffset" class="col-sm-5">xAxis offset</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtxAxisOffset" value="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="txtyAxistOffset" class="col-sm-5">yAxist offset</label>
                        <div class="col-sm-7">
                            <input type="number" class="form-control" id="txtyAxistOffset" value="0">
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button id="btnchangechartmargin" type="button" class="btn btn-primary">OK</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>

</html>