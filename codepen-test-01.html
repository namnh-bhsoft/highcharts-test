<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test X&Y arbitrary count</title>
    <style>
        #container {
            overflow: visible !important;
            height: 95vh !important;
        }

        .highcharts-container {
            height: 100% !important;
        }

        .highcharts-credits {
            display: none;
        }

        img {
            margin-top: 20px;
        }

    </style>
</head>
<body>
<div id="container" style="height: 400px"></div>
<img src="issue-sample-1.png" alt="" width="100%">
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<!-- optional -->
<script src="http://code.highcharts.com/modules/offline-exporting.js"></script>
<script src="http://code.highcharts.com/modules/export-data.js"></script>
<script>

    function labelFormater() {
        if (this.value < 0) {
            return "<span>" + this.value * -1 + "</span>";
        } else {
            return "<span>" + this.value + "</span>";
        }
    }

    Highcharts.chart("container", {
        chart: {
            marginBottom: 200
        },

        title: {
            text: "Arbitrary count of X&Y plots"
        },

        subtitle: {
            text: "An experiment"
        },

        xAxis: {
            categories: [
                "Jan",
                "Feb",
                "Mar",
                "Apr",
                "May",
                "Jun",
                "Jul",
                "Aug",
                "Sep",
                "Oct",
                "Nov",
                "Dec"
            ]
        },

        yAxis: [
            // yAxis for qi/q [%]
            {
                lineWidth: 1,
                title: {
                    useHTML: true,
                    text: "q<sub>i</sub>/q [%]",
                    align: "high",
                    rotation: 0,
                    offset: 10,
                    y: 0
                },
                softMin: -230,
                softMax: 230,
                endOnTick: false,
                startOnTick: false,
                labels: {
                    formatter: labelFormater,
                    useHTML: true
                },
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for cI1/2 [m1/2/2]
            {
                lineWidth: 1,
                opposite: true,
                title: {
                    useHTML: true,
                    text: "cI<sup>1/2</sup> [m<sup>1/2</sup>/2]",
                    align: "high",
                    rotation: 0,
                    offset: 10,
                    y: 0
                },
                linkedTo: 0,
                labels: {
                    formatter: labelFormater,
                    useHTML: true
                },
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for Observation
            {
                title: "",
                linkedTo: 0,
                lineWidth: 1,
                labels: {
                    enabled: false
                },
                lineColor: 'rgba(0, 0, 0, 0)',
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for h[m]
            {
                linkedTo: 0,
                lineWidth: 1,
                labels: {
                    enabled: false
                },
                title: {
                    useHTML: true,
                    text: "h [m]",
                    align: "low",
                    rotation: 0,
                    offset: -70
                },
                lineColor: 'rgba(0, 0, 0, 0)',
                offset: 120,
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for Surface
            {
                title: "",
                lineColor: 'rgba(0, 0, 0, 0)',
                linkedTo: 0,
                lineWidth: 1,
                labels: {
                    enabled: false
                },
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for vm [m/s]
            {
                lineWidth: 1,
                opposite: true,
                title: {
                    useHTML: true,
                    text: "v<sub>m</sub> [m/s]",
                    align: "high",
                    rotation: 0,
                    offset: 10,
                    y: 0
                },
                linkedTo: 0,
                labels: {
                    formatter: labelFormater,
                    useHTML: true
                },
                offset: 110,
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for h 3/2 [m3/2]
            {
                lineWidth: 1,
                opposite: true,
                title: {
                    useHTML: true,
                    text: "h<sup>3/2</sup> [m <sup>3/2</sup>]",
                    align: "low",
                    rotation: 0,
                    x: 40
                },
                linkedTo: 0,
                labels: {
                    useHTML: true,
                    formatter: labelFormater
                },
                offset: 0,
                gridLineColor: 'rgba(0,0,0,0)',
            },
            // yAxis for h[m] plot col
            {
                linkedTo: 0,
                lineWidth: 1,
                labels: {
                    enabled: false
                },
                title: {
                    text: ''
                },
                lineColor: 'rgba(0, 0, 0, 0)',
                gridLineColor: 'rgba(0,0,0,0)',
            },
        ],

        tooltip: {
            useHTML: true,
            formatter: function () {
                if (this.series.name === "" || this.series.name === "Surface") {
                    return false
                } else {
                    if (this.y < 0) {
                        let val = this.y * -1;
                        return `<strong>${this.series.name}</strong></br>
                                Value of <strong>${this.x}</strong>: ${val}`;
                    } else {
                        let val = this.y;
                        return `<strong>${this.series.name}</strong></br>
                                Value of <strong>${this.x}</strong>: ${val}`;
                    }
                }
            }
        },

        legend: {
            useHTML: true,
            layout: "vertical",
            align: "left",
            verticalAlign: "bottom",
            floating: true,
            y: 0,
            x: 80,
            borderColor: "#000000",
            borderWidth: 1,
            padding: 15
        },

        plotOptions: {
            series: {
                dataLabels: {
                    useHTML: true
                },
                cursor: 'pointer',
                events: {
                    click: function () {
                        alert(this.name + ' has been clicked');
                    }
                }
            }
        },

        series: [
            // qi/q [%]
            {
                name: "q<sub>i</sub>/q [%]",
                data: [
                    0,
                    51.5,
                    65.4,
                    80.2,
                    105.0,
                    150.0,
                    180.6,
                    125.5,
                    84.4,
                    60.1,
                    42.6,
                    0
                ],
                type: "line",
                step: 'left',
                color: '#000000',
                marker: {
                    enabled: false
                }
            },
            // cI 1/2 [m1/2/2]
            {
                name: "cI<sup>1/2</sup> [m<sup>1/2</sup>/2]",
                data: [
                    0,
                    136.0,
                    95.6,
                    108.5,
                    186.4,
                    154.1,
                    55.6,
                    14.4,
                    9.9,
                    31.5,
                    66.4,
                    0
                ],
                yAxis: 1,
                type: 'spline',
                dashStyle: 'LongDash',
                color: '#f88',
                marker: {
                    enabled: false
                }
            },
            // Observation
            {
                name: "Observation",
                data: [
                    null,
                    -96.0,
                    -55.6,
                    -68.5,
                    -136.4,
                    -114.1,
                    -45.6,
                    -34.4,
                    -79.9,
                    -81.5,
                    -46.4,
                    null
                ],
                yAxis: 2,
                zIndex: 10,
                lineColor: 'rgba(0, 0, 0, 0)',
                marker: {
                    fillColor: 'rgba(0, 200, 0, 1)',
                    symbol: "triangle-down",
                    enabled: true,
                    radius: 5
                }
            },
            // h [m]
            {
                name: "h [m]",
                data: [
                    0,
                    -126.0,
                    -85.6,
                    -98.5,
                    -166.4,
                    -144.1,
                    -75.6,
                    -74.4,
                    -109.9,
                    -111.5,
                    -76.4,
                    0
                ],
                yAxis: 3,
                color: '#f0a717',
                marker: {
                    enabled: false
                }
            },
            // Surface
            {
                name: "Surface",
                data: [
                    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                ],
                yAxis: 4,
                color: '#8d8dff',
                zIndex: -1,
                marker: {
                    enabled: false
                },
                states: {
                    hover: false
                }
            },
            // vm [m/s]
            {
                name: "v<sub>m</sub> [m/s]",
                data: [
                    0,
                    86.0,
                    75.6,
                    98.5,
                    166.4,
                    114.1,
                    41.6,
                    14.4,
                    19.9,
                    11.5,
                    56.4,
                    0
                ],
                yAxis: 5,
                type: 'spline',
                color: '#ff82fe',
                marker: {
                    enabled: false
                }
            },
            // h3/2 [m3/2]
            {
                name: "h<sup>3/2</sup> [m<sup>3/2</sup>]",
                data: [
                    0,
                    -96.0,
                    -55.6,
                    -68.5,
                    -136.4,
                    -114.1,
                    -45.6,
                    -34.4,
                    -79.9,
                    -81.5,
                    -46.4,
                    0
                ],
                dashStyle: 'ShortDot',
                color: '#ffa9a9',
                yAxis: 6,
                marker: {
                    enabled: false
                }
            },
            // h [m] col
            {
                name: "",
                showInLegend: false,
                type: 'column',
                pointWidth: 1,
                data: [
                    0,
                    -126.0,
                    -85.6,
                    -98.5,
                    -166.4,
                    -144.1,
                    -75.6,
                    -74.4,
                    -109.9,
                    -111.5,
                    -76.4,
                    0
                ],
                yAxis: 7,
                color: 'rgba(0,0,0,.5)',
                marker: {
                    enabled: false
                },
                zIndex: -2
            }
        ]
    });

</script>
</body>
</html>